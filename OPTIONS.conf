#!/bin/bash

## Variables
## ATTENTION
## NETMASK just work for
## 255.255.255.0
## 255.255.0.0
## 255.0.0.0


#####################################################################
## GLOBAL NETWORK - settings
## for ALL servers with static IP
#####################################################################

## big network
NETWORK=10.0.0.0
NETMASK=255.0.0.0
BROADCAST=10.255.255.255
GATEWAY=10.0.0.254
## small network
#NETWORK=192.168.1.0
#NETMASK=255.255.255.0
#BROADCAST=192.168.1.255
#GATEWAY=192.168.1.254

## the name of your domain
DOMAIN_NAME=networkbox.net

## DNS #1
## IP of YOUR own DNS - server knowing all your servers
## for example: dhcp, tftp and so on
## for every name-server it has to be its OWN IP
## Example:
## name01 -> 10.0.0.1
## name02 -> 10.0.0.2
## big network
DNS_IP_LOCAL_NETWORK=10.0.0.1
## small network
#DNS_IP_LOCAL_NETWORK=192.168.1.1

## DNS #2 IP of your router/provider, do not leave it empty
## big network
DNS_IP_PROVIDER=10.0.0.254
## small network
#DNS_IP_PROVIDER=192.168.1.254

## DNS #3 IP out in the internet(google), do not leave it empty
DNS_IP_WWW=8.8.8.8


#####################################################################
## to istall server(s) NETWORK - settings
#####################################################################
## full networkbox: install.sh in this directory will install all
##                  all servers onto one maschine
##
## DNS:             install-hostname_and_static_ip.sh in directory
##                  hostname_static_ip
##                  &
##                  install-bind.sh in directory bind will install
##                  a static network interface and thd dns - server
##
## DHCP:            install-dhcp.sh in dhcp
##                  and so on ...
##
#####################################################################


#####################################################################
## HOSTNAME and NETWORK - INTERFACE
#####################################################################
HOSTNAME=name01
## big network
STATIC_IP=10.0.0.1
## small network
#STATIC_IP=192.168.1.1

## BRIDGE SETTINGS
## create a bridged interface br0 for lxd
## answer yes/no
## ATTENTION: machine has to reboot to get rid of dhcp-lease
##            of initial network interface
CREATE_BRIDGE=no
#
## LXD CONTAINER SETTINGS
## is this server a lxd container yes/no
## changes for containers:
## interface = eth0
## /etc/network/interfaces -> /etc/network/interfaces.d/50-cloud-init.cfg
## a LXD_SSH_SUDO_USER with password LXD_SSH_SUDO_USER_PASSWORD is created
## ssh login via network is enabled
LXD_CONTAINER=no
LXD_SSH_SUDO_USER=worker
LXD_SSH_SUDO_USER_PASSWORD="1234"

#####################################################################
## DNS - Server
#####################################################################
## nothing to do
## all settings, derived vom GLOBAL DNS and static NETWORK
##
## BUT ATTENTION:
##
## We use following names to identify services on servers:
## and they all point to HOSTNAME
## So, if you make changes, use your GIT,
## or change carefully after an standard installation
##
## name01		=>	name-server
##
## dhcp01		=>	dhcp-server
##
## nfs01,nfs02,nfs03,nfs04	=>	nfs-servers
##
## smb01,smb02,smb03	=>	samba-servers
##
## ldap01		=>	ldap-server
##
## cups01		=>	cups-server#
##
## laus01		=>	L(inux)A(utomatic)U(pdate)S(erver)
##
## apca01		=>	Apt-Cacher-Ng Server
##
## tftp01		=>	tftp-server
##
## mycloud01		=>	owncloud-server
##
## gateway		=>	default gateway
##
##
## if config files for zone lookup  and reverse lookup
## should be pulled from a git repository
## add repository  with db.$DOMAIN_NAME file and db.reverse
## may be a sensefull .gitignore file
## and a username with an e-mail address
DNS_GIT_REPOSITORY=
DNS_GIT_USER_NAME=
DNS_GIT_USER_EMAIL=


#####################################################################
## DHCP - Server
#####################################################################
## interfaces which offer dhcp - services
## will be dedected automatically, by choosing the active interface
## You will be asked, if more than on interface is active

## NEW EXAMPLE CONFIGURATION
## if new /etc/dhcpd.conf shall be created
## network - settings from section GLOBAL NETWORK - settings
## are used
## PLEASE set them!
## important other DHCP - settings 
## will be taken from DHCP - EXAMLPE Configuration below

## DHCP - EXAMLPE Configuration
## Options, if /etc/dhcpd.conf is generated by networkbox
## range for dynamic ip's, which have to be part of your NETWORK!
## big network
DHCP_MIN_RANGE=10.127.0.1
DHCP_MAX_RANGE=10.127.0.250
## small network
#DHCP_MIN_RANGE=192.168.1.200
#DHCP_MAX_RANGE=192.168.1.220

# hostname, ip and mac for 2 example - dhcp - clients
DHCP_HOST_1_HOSTNAME=r001pc01
## big network
DHCP_HOST_1_IP=10.0.1.1
## small network
#DHCP_HOST_1_IP=192.168.1.101
DHCP_HOST_1_MAC=00:00:00:00:00:01

DHCP_HOST_2_HOSTNAME=r002pc02
## big network
DHCP_HOST_2_IP=10.0.2.2
## small network
#DHCP_HOST_2_IP=192.168.1.121
DHCP_HOST_2_MAC=00:00:00:00:00:02

## WORKING CONFIGURATION FROM GIT
## if config file /etc/dhcpd.conf should be pulled from a git repository
## add repository, with dhcpd.conf file with an usefull .gitignore
## add username 
## add e-mail address
## you DO NOT need any other settings in OPTIONS.conf from above
DHCP_GIT_REPOSITORY=
DHCP_GIT_USER_NAME=
DHCP_GIT_USER_EMAIL=


#####################################################################
## TFTP - Server for PXE-Boot with PRESEED-Files
#####################################################################
# TFTP Server Name
## Standard tftp01 is set, 
## change if you want to use a second tftp server
## tftp01 will be replaced in start-screen for information and
## in preseed-files and grub.cfg (late_command string)
TFTP_SERVER_NAME=tftp01

## TFTP MENU PASSWD set in files:
## /var/lib/tftpboot/ubuntu-installer/menus/boot-screens/adtxt.cfg
## /var/lib/tftpboot/ubuntu-installer/menus/boot-screens/ubuntu1404.cfg
TFTP_MENU_PASSWD=123

## PRESEED (Debian Installer)
## config preseed files located in /var/lib/tftpboot/preseed
## preseed files are responsible for bootstrapping ubuntu-minimal

## USER-DATA (Ubuntu-Sever-Installer)
## config user-data yaml file located in webserver-root:ubuntu-server-installer

## name of admin (sudo for root) account for workstations
ADMIN_ACCOUNT_FULLNAME=Worker
ADMIN_ACCOUNT_NAME=worker
## cleartext password of the admin account
ADMIN_ACCOUNT_PASSWORD=1234

## location to store
## * ubuntu-server-iso
## * user-data (yaml config file for installation)
## * laus client files (LAUS infrastructure)
## on tftp/http server
## we use apache2, so it is:
HTTP_ISO_YAML_LAUS_DIR="/var/www/html/ubuntu-server-installer"


#####################################################################
## NFS - Server
#####################################################################
## directory, in which NFS exports are for export collected
NFS_EXPORT_DIR=/export


#####################################################################
## LAUS - Server
#####################################################################
## laus server is created in directory:
## /opt/autoinstall
## and exported via NFS
## for networkbox the class NETWORKBOX is createted
## and filled with some basic scripts


#####################################################################
## LDAP - Server
#####################################################################
## setup of an LDAP - Server
## Information from:
## https://help.ubuntu.com/lts/serverguide/openldap-server.html#openldap-configuration

## Settings for the Real Time Configuration), or the cn=config method.
## Admin account to access cn=config database via ldap-browser from extern
LDAP_CN_CONFIG_ADMIN_NAME=admin
LDAP_CN_CONFIG_ADMIN_PASSWORD=1234

## a lot of schemas will be added to cn=config
## have a look at
## file ldap/cn_config/add-schemas_to_cn_config.sh
## to find out and reduce if necessary
## Reduction can always be done with a LDAP-browser later

## Settings for the ldap-tree, in which all data is stored
LDAP_DOMAIN_SUFFIX_FIRST=example
LDAP_DOMAIN_SUFFIX_SECOND=com
## will become dc=example,dc=com

## password for user admin in ldap-tree
LDAP_DOMAIN_ADMIN_PASSWORD=1234

## password for user ldapsync in ldap-tree
## ldapsync has read only access to the hole ldap tree to sync to backup ldap -servers
LDAP_SYNC_PASSWORD=4321

## set LDAP_IS_SLAVE_SERVER=yes, if a slave - server should be installed
## ldap01 will be used as PROVIDER:
## olcSyncrepl: {0}rid=1 provider=ldap://ldap01:389
LDAP_IS_SLAVE_SERVER=


#####################################################################
## LDAP - Client
#####################################################################
## setup of an LDAP - Client to connect to LDAP - Server above
## Information from:
## ldap -client will connect via user ldapread with read rights only
## instead admin user with full rights
## Advantage: now admin password on the client machine
## LDAP - Servers to connect to:
LDAP_CLIENT_LDAP_SERVERS="ldap01 ldap02"
## The distinguished name of the search base.
LDAP_CLIENT_DOMAIN_SUFFIX_FIRST=example
LDAP_CLIENT_DOMAIN_SUFFIX_SECOND=com
## will become dc=example,dc=com


#####################################################################
## KERBEROS
#####################################################################
## setup of an Kerberos Server using LDAP - Server as Database
## Information from:
## https://help.ubuntu.com/lts/serverguide/kerberos-ldap.html
## https://help.ubuntu.com/lts/serverguide/openldap-server.html#openldap-configuration
## REALM = domainnane from GLOBAL NETWORK - settings in upper cases
REALM_DOMAIN_NAME=$(echo "${DOMAIN_NAME}" | tr '[:lower:]' '[:upper:]')
## realm Container in dc=example,dc=com
REALM_CONTAINER=krb5Container
## will become cn=krb5Container,dc=example,dc=com
## which is the root of all kerberos objects
## Attention: the Kerberos Container has to be in cn= . dn= does not work
## the Ubuntu- Server Documentation IS NOT CORRECT!


#####################################################################
## SAMBA-3 SERVER
#####################################################################
## setup of a Samba-3 Server using LDAP - Server as Database
## Information from:
## https://help.ubuntu.com/lts/serverguide/samba-ldap.html
## ATTENTION:
## Set LDAP - Settings above!
## because the Samba - Server depends on it!
##
## Name of your NT/SAMBA Domain
SAMBA3_WORKGROUP=MYDOMAIN
## Name of your Primary Domain Controller
SAMBA3_NETBIOS_NAME=${HOSTNAME}
## Name/IP of your Server hosting LDAP - Backend
## for example: ldap01 for extern ldap-server or 127.0.0.1 for localhost
SAMBA3_LDAP_SERVER=127.0.0.1


#####################################################################
## SAMBA4 ENVIROMENT
#####################################################################
##
## we need the static IP for settings in
## /etc/resolve.conf 
## /etc/hosts
SAMBA4_STATIC_IP="10.0.0.19"
##
## we need a domain name for FQDN in /etc/hosts
SAMBA4_DNS_DOMAIN_NAME="brg.tsn"
##
## REALM = DNS Domain in capital letters
SAMBA4_REALM_DOMAIN_NAME=$(echo "${SAMBA4_DNS_DOMAIN_NAME}" | tr '[:lower:]' '[:upper:]')
##
## Name of your NT/SAMBA Domain, should be first part of domain name in capital letters
SAMBA4_DOMAIN=$(echo ${SAMBA4_DNS_DOMAIN_NAME} | awk 'BEGIN { FS = "." } { print $1 }' | tr '[:lower:]' '[:upper:]')
##
## Samba 4 DIT
## from ${SAMBA4_REALM_DOMAIN_NAME}
## example.com -> DC=exaple,DC=com
SAMBA4_ROOT_DN=$(echo "DC=${SAMBA4_REALM_DOMAIN_NAME}" | sed -r 's/\./,DC=/g' )
##
## our own TOP LEVEL OU, where all our staff will be placed
## (so we just add "one" OU to the known structure :-)
SAMBA4_TOPLEVEL_OU="OU=APP"
##
## Administartor Password in cleartext
SAMBA4_ADMINISTRATOR_PASSWORD=Passw0rd


#####################################################################
## SAMBA4 ACTIV DOMAIN CONTROLLER
#####################################################################
##
## install hostname & ip with
## hostname_static-ip/install-hostname_and_static_ip.sh
##
## we use all parameters from SAMBA4 ENVIROMENT
##
## setup of a Samba4 Activ Domain Controller
## ATTENTION:
## smb - Server for home directories 
## has do be done extra on a different host
##
## we need a static ip for FQDN in /etc/hosts
## we take static IP from HOSTNAME and NETWORK - INTERFACE
## STATIC_IP
##
## we set up DNS reverse lookup, so we need from GLOBAL NETWORK - settings
## NETWORK & NETMASK
##
## we need a DNS forwarder for /etc/samba/smb.conf
SAMBA4_AD_DNS_FORWARDER_IP=${DNS_IP_LOCAL_NETWORK}
##
## To secure LDAP traffic, you can use SSL/TLS
## https://wiki.samba.org/index.php/Configuring_LDAP_over_SSL_(LDAPS)_on_a_Samba_AD_DC
## ENABLE_SSL="yes/no"
ENABLE_SSL="yes"
##
## To connect samba4 to bind9
## we must uncomment a library in /var/lib/samba/bind_dns_named.conf.sh
## we take the latest version
## for Ubuntu 20.04 this is dlz_bind9_12.so
## so, if you have problems to join the domain, please check our needed version
DLZ_BIND9_LIBRARY="dlz_bind9_12.so"


#####################################################################
## SAMBA4 rfc2307 - STRUCTURE
#####################################################################
## if we add UNIX uidNumber & UNIX gidNumber to users & groups
## we have to know some details:
## Linux 64 Bit seems to allow 32 bit signed! integers (you won't belive :-( ) 
## UIDs & GUIDs from: 0 - 2^31-1  (2 147 483 647) = 10 digits
## if we then translate needed? computer UIDs like this:
## iP:  10.  3. 15.246
## UID:  2 003 015 246
##
## IP:  10.147.255.255
## UID:  2 147 255 255
## we stay with MAXIMUM 10.147.ddd.ddd in the allowed range
##
##
## so we plan our UIDs as follows:
##          3000 -          7999    ->    for INTERNAL DOMAIN 
##          7999 -     2 999 999    ->    EMPTY
##     3 000 000 -     3 999 999    ->    DO NOT USE: 
##
## EXPLANATION: from https://wiki.samba.org/index.php/Setting_up_Samba_as_a_Domain_Member
## The ID numbers found on a DC (numbers in the 3000000 range) are NOT rfc2307 attributes 
## They cannot and will not be used on Unix Domain Members, if you want to have the same ID numbers everywhere, 
## you must add uidNumber & gidNumber attributes to AD and use the winbind 'ad' backend on Unix Domain Members. 
## If you do decide to add uidNumber & gidNumber attributes to AD, you do not need to use numbers in the 3000000 range 
## and in fact it would definitely be a good idea to use a different range.
##
##     4 000 000 - 2 147 483 647    ->    OUR DOMAIN = ${SAMBA4_DOMAIN}
## 2 000 000 000 - 2 147 255 255    ->    all IPs as UIPs in our DOMAIN
##
##
## so we add UNIX - structur to following groups
## an we place them to the end 4 294 966 xxx = highest number to add xxx
## 
## S-1-5-21domain-512
## Domain Admins
## A global group whose members are authorized to administer the domain. 
## By default, the Domain Admins group is a member of the Administrators group on all computers that have joined a domain, 
## including the domain controllers. Domain Admins is the default owner of any object that is created by any member of the group.
## GID = 2 147 483 512
##
## S-1-5-21domain-513
## Domain Users
## A global group that, by default, includes all user accounts in a domain. When you create a user account in a domain, it's added to this group by default.
## GID = 2 147 483 513
##
## S-1-5-21domain-514
## Domain Guests
## A global group that, by default, has only one member, the domain's built-in Guest account.
## GID = 2 147 483 514
##
## S-1-5-21domain-515
## Domain Computers
## A global group that includes all clients and servers that have joined the domain.
## GID = 2 147 483 515
##
## S-1-5-21domain-516
## Domain Controllers
## A global group that includes all domain controllers in the domain. New domain controllers are added to this group by default.
## GID = 2 147 483 516


#####################################################################
## SAMBA4 COMPUTER DOMAIN JOIN STAFF
#####################################################################
##
## INFO:
##
## During normal domain join: net ads join -U Administrator
## computers are not automatically added to reverse zone
## and no nfs prinzipal ist added.
##
## Therefor we add host with helperscripts/add_host.sh, where all these 
## staff is done.
## Then we need an not privileged user, who is able to join computers
## and whos password has not to be absolute save, so we can place it
## in "public" scripts to handle automatic domain joins
##
## CONTAINER for "computer join group/user" and "tsn sync group/user"
## pathes will be created with helper-script, please do NOT use spaces in OU-path
OU_MANAGER_CONTAINER="OU=Managers,${SAMBA4_TOPLEVEL_OU}"
##
## DOMAIN COMPUTER CONTAINER for computers managed by "computer join group"
## "computer join group" will have rights here
## pathes will be created with helper-script, please do NOT use spaces in OU-path
OU_DOMAIN_COMPUTERS_CONTAINER="OU=Computers,${SAMBA4_TOPLEVEL_OU}"
##
## DOMAIN SERVERS CONTAINER for file - servers"
## "computer join group" will NOT have rights here
## pathes will be created with helper-script, please do NOT use spaces in OU-path
OU_DOMAIN_SERVERS_CONTAINER="OU=Servers,${SAMBA4_TOPLEVEL_OU}"
##
## DOMAIN JOIN GROUP
DOMAIN_JOIN_GROUP="domain_join_group"
##
## DOMAIN JOIN USER
DOMAIN_JOIN_USER="domain_join_user"
DOMAIN_JOIN_USER_PASSWORD="Passw0rd"
##
## Explanation of ACLs see beyond SAMBA4 TSN SYNCRONISATION STAFF
##
## acl list for DOMAIN JOIN GROUP on DOMAIN COMPUTER CONTAINER looks like,
## which meens "full control"
JOIN_ACCESS_FLAG="A"
JOIN_INHERIT_FLAG="CI"
JOIN_ACL_LIST="RPWPCRCCDCLCLORCWOWDSDDTSW"


#####################################################################
## SAMBA4 TSN SYNCRONISATION STAFF
#####################################################################
ENABLE_TSN_SYNCRONISATION="yes"
##
## HINT:
## Users for the directory are "synced" from a "389-Red Hat" directory
## this is a special feature implemented by the "DVT = Daten Verarbeitung Tirol"
## so for profissional contact, have a look at:
## https://www.dvt.at/
##
## We need a certificate, which we get from:
##  https://portal.tirol.gv.at/
##
## Place certificate *.p12 in NETWORKBOX subdirectory:
## ~/networkbox/samba4/tls
## certificates will be extracted from *.p12 container
## to
## /var/lib/samba/private/tls
##
## Password, to open *.p12 has to to be placed in first line of file:
## networkbox/samba4/tls/password.txt
##
## SYNCRONISATION STRUCTURE
##
## LIST OF SYNCRONISIZED CONTAINERS
## which will be created in ${SAMBA4_TOPLEVEL_OU}
## normally your write school ID number here
## if you have 2 schools in one house or AD Domain, use a list like this:
OU_TSN_SYNC_CONTAINER_LIST="OU=701036 OU=701076"
## pathes will be created with helper-script, please do NOT use spaces in OU-path
##
## SYNCRONISATION GROUP
## we create a group with necessary rights to ${TSN_SYNC_CONTAINER}
TSN_SYNC_GROUP="tsn_sync_group"
##
## acl list for SYNCRONISATION GROUP on SYNCRONISATION CONTAINER looks like,
## which meens "full control"
SYNC_ACCESS_FLAG="A"
SYNC_INHERIT_FLAG="CI"
SYNC_ACL_LIST="RPWPCRCCDCLCLORCWOWDSDDTSW"
## which was found be giving an object foo control an getting its acl with
## samba-tool dsacl get --objectdn=OU=701038,DC=example,DC=dom
##
## we create a user to be added to ${TSN_SYNC_GROUP} to handle sync actions
TSN_SYNC_USER="tsn_sync_user"
TSN_SYNC_USER_PASSWORD="Passw0rd"


#####################################################################
## SAMBA4 EXPLANATION ACLs
#####################################################################
## SDDL Security Descriptor Definition Language (SDDL)
## https://www.it-visions.de/glossar/alle/190/Security_Descriptor_Definition_Language.aspx
## if we deal with MS :-(
## sddl=(A;CI;RPWPCRCCDCLCLORCWOWDSDDTSW;;;${OBJECT_SID})
## which meens
## FULLCONTROL
## but we use whole String for better explanation
## from https://docs.microsoft.com/de-de/windows/win32/secauthz/ace-strings?redirectedfrom=MSDN
## and http://www.winfaq.de/faq_html/Content/tip2000/onlinefaq.php?h=tip2031.htm
## SDDL="(A                                     <- ACCESS
## SDDL="(A;CI                                  <- CONTAINER INHERIT: Child objects that are containers, such as directories, inherit the ACE as an explicit ACE.
## SDDL="(A;CI;RP                               <- ADS_RIGHT_DS_READ_PROP
## SDDL="(A;CI;RP WP                            <- ADS_RIGHT_DS_WRITE_PROP
## SDDL="(A;CI;RPWP CR                          <- ADS_RIGHT_DS_CONTROL_ACCESS
## SDDL="(A;CI;RPWPCR CC                        <- ADS_RIGHT_DS_CREATE_CHILD
## SDDL="(A;CI;RPWPCRCC DC                      <- ADS_RIGHT_DS_DELETE_CHILD
## SDDL="(A;CI;RPWPCRCCDC LC                    <- ADS_RIGHT_ACTRL_DS_LIST
## SDDL="(A;CI;RPWPCRCCDCLC LO                  <- ADS_RIGHT_DS_LIST_OBJECT
## SDDL="(A;CI;RPWPCRCCDCLCLO RC                <- READ_CONTROL
## SDDL="(A;CI;RPWPCRCCDCLCLORC WO              <- WRITE_OWNER
## SDDL="(A;CI;RPWPCRCCDCLCLORCWO WD            <- WRITE_DAC
## SDDL="(A;CI;RPWPCRCCDCLCLORCWOWD SD          <- DELETE
## SDDL="(A;CI;RPWPCRCCDCLCLORCWOWDSD DT        <- ADS_RIGHT_DS_DELETE_TREE
## SDDL="(A;CI;RPWPCRCCDCLCLORCWOWDSDDT SW      <- ADS_RIGHT_DS_SELF
##
## which was found be giving an object foo control an getting its acl with
## samba-tool dsacl get --objectdn=OU=701038,DC=example,DC=dom


#####################################################################
## SAMBA-4 FILE SERVER FOR HOMES
#####################################################################
##
## install hostname & ip with
## hostname_static-ip/install-hostname_and_static_ip.sh
##
## we use all parameters from SAMBA4 ENVIROMENT
##
## we need a seperate variable for the AD-DNS-Server for member servers
## to write right settings to /etc/resolv.conf
## so fill in static IP of your AD - Controller!
SAMBA4_AD_DNS_STATIC_IP=
##
## Path where homedir structure starts
## /home/users is a windows standard
SAMBA4_HOMES_BASE_DIR=/home/users
##
## we add an NFS - Server to serve homde-directories
## so we use
## NFS_EXPORT_DIR=/export from NFS - Server
## we place different groups in different homedirs
##
## ATTENTION:
## if we do not export /home/users for all directories
## ${SCHOOL_ID_NUMBER} should be derived from OU_TSN_SYNC_CONTAINER_LIST
## so we just place a quick hack here:
SCHOOL_ID_NUMBER="701036"
##
SAMBA4_NFS_TEACHERS_HOMEDIR=${SAMBA4_HOMES_BASE_DIR}/${SCHOOL_ID_NUMBER}/l
##
SAMBA4_NFS_PUPILS_HOMEDIR=${SAMBA4_HOMES_BASE_DIR}/${SCHOOL_ID_NUMBER}/s
##
SAMBA4_NFS_STAFF_HOMEDIR=${SAMBA4_HOMES_BASE_DIR}/${SCHOOL_ID_NUMBER}/v
##
## NFS4 EXPORT DIRECTORY for directories above
##
NFS_EXPORT_TEACHERS_HOMEDIR=${NFS_EXPORT_DIR}/${SCHOOL_ID_NUMBER}/l
##
NFS_EXPORT_PUPILS_HOMEDIR=${NFS_EXPORT_DIR}/${SCHOOL_ID_NUMBER}/s
##
NFS_EXPORT_STAFF_HOMEDIR=${NFS_EXPORT_DIR}/${SCHOOL_ID_NUMBER}/v


#####################################################################
## AD - CLIENT
#####################################################################
##
## ## we use all parameters from SAMBA4 ENVIROMENT
## set Parameter in /etc/sssd/sssd.conf
## to control UID Mapping
## True: (default) UID & GID are automatic generated from AD SID
## False: UID & GID are taken from rfc2307
## uidNumber & gidNumber
HAS_LDAP_ID_MAPPING=False



#####################################################################
## NEXTCLOUD / OWNCLOUD
#####################################################################
# install nextcloud / owncloud server
# splitted up in parts
# 1. sql - server
# 2. create database and admin-user for database
# 3. apache2 web-server
# 4. nextcloud/owncloud - server

#####################################################################
## SQL - Server
#####################################################################
SQL_SERVER_ROOT_PASSWORD=root1234


#####################################################################
## DATABASE & DATABASE-ADMIN 
#####################################################################
# create database user with all rights for database
DB=mycloud
DB_ADMIN=dbadmin
DB_ADMIN_PASSWORD=dbadmin1234


#####################################################################
## Apache2 - Server
#####################################################################
## nothing to config :-)


#####################################################################
## CLOUD - SERVER & CLOUD - ADMIN
#####################################################################
# please fill in latest version
NEXTCLOUD_VERSION=latest-14
# cloud admin
CLOUD_ADMIN=admin
CLOUD_ADMIN_PASSWORD=admin1234

## owncloud datapath
## LEAVE EMPTY FOR DEFAULT: /var/www/owncloud/database
## can be changed, if data should be stored elsewhere
OC_DATA_PATH=

